# ContentPilot AI - 環境變數設定範本
# 複製此檔案為 .env 並填入真實值

# ================================
# 應用程式設定
# ================================
NODE_ENV=development
PORT=3000
PYTHON_API_PORT=8000

# 前端 URL（生產環境需修改）
FRONTEND_URL=http://localhost:5173
BACKEND_URL=http://localhost:3000

# ================================
# 資料庫設定
# ================================

# PostgreSQL（關聯式資料庫）
DATABASE_URL=postgresql://contentpilot_user:your_password@localhost:5432/contentpilot
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=contentpilot
POSTGRES_USER=contentpilot_user
POSTGRES_PASSWORD=your_password

# MongoDB（文件資料庫）
MONGODB_URI=mongodb://localhost:27017/contentpilot
MONGODB_DB=contentpilot

# Redis（快取與佇列）
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379

# ================================
# AI API Keys
# ================================

# Anthropic Claude（主力 AI 寫作引擎）
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
ANTHROPIC_MAX_TOKENS=4096
ANTHROPIC_TEMPERATURE=0.7

# OpenAI（備援引擎 + 圖片分析）
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o
OPENAI_MAX_TOKENS=2048
OPENAI_TEMPERATURE=0.7

# Serper API（SERP 分析 + 新聞搜尋）
SERPER_API_KEY=3a034a048f85d73fc5a363a52bb248daad05083e
SERPER_API_URL=https://google.serper.dev/search

# Exa AI（語意搜尋，可選）
EXA_API_KEY=your_exa_api_key_here
EXA_API_URL=https://api.exa.ai/search

# ================================
# JWT 認證設定
# ================================
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=your_refresh_token_secret_change_this_too
JWT_REFRESH_EXPIRES_IN=7d

# ================================
# 檔案儲存設定
# ================================

# 本地端儲存路徑
UPLOAD_DIR=/var/www/contentpilot/uploads
TEMP_DIR=/var/www/contentpilot/temp
BACKUP_DIR=/var/backups/contentpilot

# 上傳限制
MAX_FILE_SIZE=10485760  # 10MB (bytes)
MAX_IMAGE_SIZE=5242880   # 5MB (bytes)
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp

# 圖片處理
IMAGE_QUALITY=85
THUMBNAIL_WIDTH=400
THUMBNAIL_HEIGHT=300
MAX_IMAGE_WIDTH=1920

# ================================
# 安全性設定
# ================================

# CORS 允許的來源（生產環境需修改）
CORS_ORIGIN=http://localhost:5173,https://contentpilot.com

# Rate Limiting
RATE_LIMIT_WINDOW=15  # 分鐘
RATE_LIMIT_MAX_REQUESTS=100  # 每個視窗的最大請求數

# Session Secret
SESSION_SECRET=your_session_secret_change_this

# ================================
# Email 設定（通知用，可選）
# ================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
EMAIL_FROM=noreply@contentpilot.com

# ================================
# 監控與日誌
# ================================

# Sentry（錯誤追蹤，可選）
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development

# 日誌等級
LOG_LEVEL=info  # debug, info, warn, error

# ================================
# 功能開關（Feature Flags）
# ================================

# 啟用功能
ENABLE_AI_GENERATION=true
ENABLE_IMAGE_UPLOAD=true
ENABLE_TEAM_COLLABORATION=false  # MVP 階段關閉
ENABLE_ANALYTICS=false  # MVP 階段關閉

# AI 模型選擇
PRIMARY_AI_MODEL=claude  # claude 或 openai
FALLBACK_AI_MODEL=openai

# ================================
# 效能優化
# ================================

# Redis 快取 TTL（秒）
CACHE_TTL_SHORT=300      # 5 分鐘
CACHE_TTL_MEDIUM=3600    # 1 小時
CACHE_TTL_LONG=86400     # 24 小時

# 任務佇列並發數
QUEUE_CONCURRENCY=3
SERP_QUEUE_CONCURRENCY=5
AI_QUEUE_CONCURRENCY=3

# ================================
# 開發環境專用
# ================================

# 資料庫 Debug（生產環境設為 false）
DATABASE_LOGGING=true

# API Debug
API_DEBUG=true

# Mock AI 回應（開發時節省 API 費用）
MOCK_AI_RESPONSES=false

# ================================
# 生產環境專用設定
# ================================

# SSL/TLS
SSL_CERT_PATH=/etc/letsencrypt/live/contentpilot.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/contentpilot.com/privkey.pem

# 備份設定
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=7
BACKUP_TO_CLOUD=false  # 是否上傳到雲端儲存

# Linode Object Storage（可選，用於異地備份）
LINODE_OBJECT_STORAGE_ENDPOINT=https://ap-south-1.linodeobjects.com
LINODE_OBJECT_STORAGE_ACCESS_KEY=your_access_key
LINODE_OBJECT_STORAGE_SECRET_KEY=your_secret_key
LINODE_OBJECT_STORAGE_BUCKET=contentpilot-backup
